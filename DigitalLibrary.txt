;MODE MUST BE LOCAL

GRAB 300

MARK READFILE
COPY F X
REPL FINDANDCOPYBOOK
JUMP READFILE
;HALT


MARK FINDANDCOPYBOOK
LINK 800
;FILETO WRITE TO
MAKE
;NUMBER OF HOST HOPS
SWIZ X 3 T

;FIND TARGET HOST
MARK FINDHOST
;MOVE TO GATEWAY HOST
LINK 800
SUBI T 1 T
TJMP FINDHOST

;SPAWN SOURCE/COPIER
REPL BOOKCOPIER

;TARGET
MARK COPYTARGET
COPY M F
NOOP
TEST MRD
TJMP COPYTARGET


;GO BACK HOME
MARK GOHOME
;MOVE TO HOME
;@REP 10
LINK -1
;@END
JUMP GOHOME


;SOURCE
MARK BOOKCOPIER
;COMPUTE BOOK NAME
SWIZ X 21 X
ADDI X 200 X

GRAB X
MARK COPYHOST
COPY F M
JUMP COPYHOST


