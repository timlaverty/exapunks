;READ SEEK LOC & DATA
GRAB 300
;FILE LOCATION
COPY F X
REPL SEEKER
;SEND ENTRYID TO SEEKER
COPY F M
DROP

;CREATE NEW FILE
MAKE

;GET # OF VALUES
COPY M X

;COPY VALUES TO HOMEFILE
MARK COPYVALSHOMEFILE
COPY M F
SUBI X 1 X
TEST X = 0
FJMP COPYVALSHOMEFILE

DROP
HALT


MARK SEEKER
LINK 800

MARK NEXTHOP
LINK 800
LINK 800
;LOOK FOR THE HOST
HOST T
TEST T = X
FJMP NEXTHOP
;IF HOST FOUND, FINDDATA

;GET FILE, GO TO END
COPY M X
GRAB 200
SEEK 9999

;CHECK ENTRY
MARK CHECKENTRY
SEEK -3
TEST F = X
SEEK -1
FJMP CHECKENTRY
SEEK 1
;OFFSET
COPY F T
;LENGTH
COPY F X

;COPY LENGTH TO HOME
COPY X M

;GO TO FRONT OF FILE
SEEK -9999
SEEK T

;READ/SEND NEXT X VALUES

;COPY VALUES TO HOME
MARK COPYVALS
COPY F M
SUBI X 1 X
TEST X = 0
FJMP COPYVALS

DROP
