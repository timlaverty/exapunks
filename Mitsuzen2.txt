LINK 800
REPL AVN
REPL SAN

;CNS DATA PULL
MARK READCNS
;COPY #NERV X 
DIVI #NERV -10 X
;ONCE FOR EACH BOT
COPY X M
COPY X M

;WAIT PROCESSING TIMEX
;SUBI X 2 X
MARK WAITLOOP
SUBI X 1 X
TEST X = 0
FJMP WAITLOOP

TJMP READCNS


MARK AVN
LINK 3
LINK 3

MARK WRITEAVNVALS
COPY M X
TEST X > 1
TJMP WRITEPREFIX

MARK WRITEAVN
;PATTERN:
;COPY -70 #NERV
;COPY 40 #NERV
;COPY -70 #NERV
;COPY -70 #NERV
;...COPY -70 #NERV
COPY -70 #NERV
SUBI X 1 X
TEST X = 0
FJMP WRITEAVN
TJMP WRITEAVNVALS
;HALT

MARK WRITEPREFIX
COPY -70 #NERV
COPY 40 #NERV
SUBI X 2 X
TJMP WRITEAVN


MARK SAN
LINK 1
LINK 1
MARK WRITESANVALS
COPY M X
COPY 40 #NERV
SUBI X 1 X
MARK WRITESAN
;PATTERN:
;COPY 40 #NERV
;COPY -70 #NERV
;COPY -70 #NERV
;...
COPY -70 #NERV
SUBI X 1 X
TEST X = 0
FJMP WRITESAN
TJMP WRITESANVALS
;HALT

